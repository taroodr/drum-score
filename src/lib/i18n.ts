export type Locale = "en" | "ja";

type Dictionary = Record<string, string>;

const translations: Record<Locale, Dictionary> = {
  en: {
    "lang.en": "EN",
    "lang.ja": "JA",
    "hero.eyebrow": "Free drum notation tool",
    "hero.title": "Create, play, and export drum notation for free",
    "hero.subtitle":
      "For drummers looking for a drum notation editor. Click to enter notes, create scores, export PDF/MIDI, and play back.",
    "hero.cta": "Start input",
    "hero.ctaNote": "No signup · Free",
    "controls.samples": "Samples",
    "controls.samples.helper": "Load a pattern with one click",
    "controls.samples.rock": "Rock 8beat",
    "controls.samples.pop": "Pop 8beat",
    "controls.samples.shuffle": "Shuffle",
    "controls.measures": "Measures",
    "controls.measures.range": "1-32",
    "controls.bpm": "BPM",
    "controls.bpm.range": "40-240",
    "controls.storage": "Storage",
    "controls.storage.save": "Save",
    "controls.storage.load": "Load",
    "controls.storage.clear": "Clear",
    "controls.export": "Export",
    "controls.export.pdf": "PDF",
    "controls.export.image": "Image",
    "controls.export.midi": "MIDI",
    "controls.export.helper": "Export OSMD preview",
    "controls.playback": "Playback",
    "controls.playback.play": "Play",
    "controls.playback.stop": "Stop",
    "controls.playback.helper": "Drum samples: @teropa/drumkit (Freesound CC BY/CC0)",
    "division.label": "Division",
    "division.16th": "16th",
    "division.8th": "8th",
    "division.triplet": "16th triplet",
    "status.prefix": "Status:",
    "status.loaded.default": "Loaded default pattern",
    "status.loaded.local": "Loaded local score",
    "status.saved": "Saved at {value}",
    "status.noSave": "No saved score found",
    "status.unsupported": "Unsupported save format",
    "status.failedLoad": "Failed to load save data",
    "status.export.png": "Exporting PNG...",
    "status.export.png.done": "PNG exported",
    "status.export.png.fail": "PNG export failed",
    "status.export.pdf": "Exporting PDF...",
    "status.export.pdf.done": "PDF exported",
    "status.export.pdf.fail": "PDF export failed",
    "status.export.midi": "Exporting MIDI...",
    "status.export.midi.done": "MIDI exported",
    "status.export.midi.fail": "MIDI export failed",
    "status.playing": "Playing...",
    "status.playing.finished": "Playback finished",
    "status.playing.failed": "Playback failed",
    "status.playing.stopped": "Playback stopped",
    "status.playing.noNotes": "No notes to play",
    "status.playing.loading": "Loading samples...",
    "ad.label": "Ad Space (Auto ads)",
    "osmd.title": "Notation Preview (OpenSheetMusicDisplay)",
    "osmd.subtitle": "Preview rendered by OSMD using MusicXML.",
  },
  ja: {
    "lang.en": "EN",
    "lang.ja": "JA",
    "hero.eyebrow": "無料のドラム譜作成ツール",
    "hero.title": "ドラム譜を作成・再生・書き出しできる無料エディタ",
    "hero.subtitle":
      "ドラム譜作成・ドラム譜ソフトを探している方向け。クリック入力で楽譜作成、PDF/MIDI書き出し、再生に対応。",
    "hero.cta": "今すぐ打ち込み",
    "hero.ctaNote": "登録不要・無料",
    "controls.samples": "Samples",
    "controls.samples.helper": "ワンクリックで譜面を読み込み",
    "controls.samples.rock": "Rock 8beat",
    "controls.samples.pop": "Pop 8beat",
    "controls.samples.shuffle": "Shuffle",
    "controls.measures": "Measures",
    "controls.measures.range": "1-32",
    "controls.bpm": "BPM",
    "controls.bpm.range": "40-240",
    "controls.storage": "Storage",
    "controls.storage.save": "Save",
    "controls.storage.load": "Load",
    "controls.storage.clear": "Clear",
    "controls.export": "Export",
    "controls.export.pdf": "PDF",
    "controls.export.image": "Image",
    "controls.export.midi": "MIDI",
    "controls.export.helper": "OSMDプレビューを書き出します",
    "controls.playback": "Playback",
    "controls.playback.play": "Play",
    "controls.playback.stop": "Stop",
    "controls.playback.helper": "Drum samples: @teropa/drumkit (Freesound CC BY/CC0)",
    "division.label": "Division",
    "division.16th": "16th",
    "division.8th": "8th",
    "division.triplet": "16th triplet",
    "status.prefix": "Status:",
    "status.loaded.default": "Loaded default pattern",
    "status.loaded.local": "Loaded local score",
    "status.saved": "Saved at {value}",
    "status.noSave": "No saved score found",
    "status.unsupported": "Unsupported save format",
    "status.failedLoad": "Failed to load save data",
    "status.export.png": "Exporting PNG...",
    "status.export.png.done": "PNG exported",
    "status.export.png.fail": "PNG export failed",
    "status.export.pdf": "Exporting PDF...",
    "status.export.pdf.done": "PDF exported",
    "status.export.pdf.fail": "PDF export failed",
    "status.export.midi": "Exporting MIDI...",
    "status.export.midi.done": "MIDI exported",
    "status.export.midi.fail": "MIDI export failed",
    "status.playing": "Playing...",
    "status.playing.finished": "Playback finished",
    "status.playing.failed": "Playback failed",
    "status.playing.stopped": "Playback stopped",
    "status.playing.noNotes": "No notes to play",
    "status.playing.loading": "Loading samples...",
    "ad.label": "Ad Space (Auto ads)",
    "osmd.title": "Notation Preview (OpenSheetMusicDisplay)",
    "osmd.subtitle": "OSMD で MusicXML をレンダリングした譜面プレビュー。",
  },
};

export const translate = (
  locale: Locale,
  key: string,
  params?: Record<string, string>
) => {
  const text = translations[locale]?.[key] ?? key;
  if (!params) return text;
  return Object.entries(params).reduce(
    (acc, [paramKey, value]) =>
      acc.replaceAll(`{${paramKey}}`, value),
    text
  );
};
